<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JHaddix Methodology V4 | 0xlilith</title><meta name=keywords content="blog"><meta name=description content="My Recon Notes For JHaddix Methodology V4"><meta name=author content="lilith"><link rel=canonical href=/posts/jhaddix-methodology-v4/><link crossorigin=anonymous href=/assets/css/stylesheet.min.a07280dcb1362f46112ef52643b657ea17a35bdda7e7a4ee6bd5ddc37d5e8715.css integrity="sha256-oHKA3LE2L0YRLvUmQ7ZX6hejW92n56Tua9Xdw31ehxU=" rel="preload stylesheet" as=style><link rel=icon href=favicon.ico><link rel=apple-touch-icon href=apple-touch-icon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta name=twitter:card content="summary"><meta name=twitter:title content="JHaddix Methodology V4 | 0xlilith"><meta name=twitter:description content="My Recon Notes For JHaddix Methodology V4"><meta property="og:title" content="JHaddix Methodology V4 | 0xlilith"><meta property="og:description" content="My Recon Notes For JHaddix Methodology V4"><meta property="og:type" content="article"><meta property="og:url" content="/posts/jhaddix-methodology-v4/"><meta property="og:image" content="%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-02-09T00:00:00+00:00"><meta property="article:modified_time" content="2022-02-09T00:00:00+00:00"><meta property="og:site_name" content="0xlilith"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"/posts/"},{"@type":"ListItem","position":3,"name":"JHaddix Methodology V4","item":"/posts/jhaddix-methodology-v4/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JHaddix Methodology V4 | 0xlilith","name":"JHaddix Methodology V4","description":"My Recon Notes For JHaddix Methodology V4","keywords":["blog"],"wordCount":"620","inLanguage":"en","datePublished":"2022-02-09T00:00:00Z","dateModified":"2022-02-09T00:00:00Z","author":{"@type":"Person","name":"lilith"},"mainEntityOfPage":{"@type":"WebPage","@id":"/posts/jhaddix-methodology-v4/"},"publisher":{"@type":"Organization","name":"0xlilith","logo":{"@type":"ImageObject","url":"favicon.ico"}}}</script><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript></head><body class="dark type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="dark",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="0xlilith (Alt + H)">0xlilith</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=/posts/ title=posts class=active>posts</a></li><li><a href=/tags/ title=tags>tags</a></li><li><a href=/archives/ title=archives>archives</a></li><li><a href=https://0xlilith.github.io/exploits/ title=exploits>exploits</a></li></ul></nav><hr style="border:1.6px dashed #843f48"></hr></header><main class="main post"><article class=post-single><header class=post-header><div class=breadcrumbs><a href>Home</a>&nbsp;»&nbsp;<a href=/posts/>Posts</a></div><h1 class=post-title>JHaddix Methodology V4</h1><div class=post-description>My Recon Notes For JHaddix Methodology V4</div><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>February 9, 2022</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select:text"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" style="user-select:text"/><line x1="7" y1="7" x2="7" y2="7" style="user-select:text"/></svg>
<span class=post-tags><a href=/tags/blog/>blog</a></span></span></div></header><div class=post-content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ASN]───────────┐                 ┌───────[Root Domain]
</span></span><span class=line><span class=cl>                    |────[Recon]──{[TARGET]}
</span></span><span class=line><span class=cl>    [Acquisition]───|
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>    [Linked]────────|────[Whois]
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>        [SubDom]────┘
</span></span></code></pre></td></tr></table></div></div><h3 id=finding-seed-domain>FINDING SEED DOMAIN<a hidden class=anchor aria-hidden=true href=#finding-seed-domain>¶</a></h3><ul><li><a href=https://crunchbase.com>https://crunchbase.com</a> -> find related acquasitions of the company</li><li>(ASN Finding) -> search for company name and asn numbers (doesnt tarcks cloud infra. spaces)<ul><li><a href=https://bgp.he.net>https://bgp.he.net</a></li><li>asnlookup.py(yassineaboukir)</li><li>metabigor(j3ssiejjj) -> [echo &rsquo;tesla&rsquo; | metabigor net &ndash;org -v]</li><li>asnrecon</li></ul></li><li>(ASN Enum) -> For discovering more seed domains and return root domains<ul><li>amass(Jeff Foley) -> [amass intel -asn 46489]</li></ul></li><li>(Reverse whois)<ul><li><a href=https://www.whoxy.com>https://www.whoxy.com</a> -> who has owned the company in the past</li><li>DOMLink.py(Vincent Yiu) -> recursively query whoxy whois api</li></ul></li><li>(Ad/Analytics Relationship)<ul><li><a href=https://builtwith.com/>https://builtwith.com/</a> -> gives technology profile and relations profile</li></ul></li><li>(Google-Fu)<ul><li>eg: &ldquo;2019 Twitch INteractive, Inc.&rdquo; inurl:twitch</li></ul></li><li>(Shodan)<ul><li><a href="https://www.shodan.io/search?query=twitch.tv">https://www.shodan.io/search?query=twitch.tv</a> -> spiders infrastructure on the internet</li></ul></li></ul><h3 id=subdomain-enumeration>SUBDOMAIN ENUMERATION<a hidden class=anchor aria-hidden=true href=#subdomain-enumeration>¶</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> [subdomain enum]
</span></span><span class=line><span class=cl>    |-[linked and js discovery] 
</span></span><span class=line><span class=cl>    |-[subdomain scraping]
</span></span><span class=line><span class=cl>    |-[subdomain bruitforce]
</span></span><span class=line><span class=cl>    |- ++
</span></span></code></pre></td></tr></table></div></div><ul><li><p>(Linked and Js discovery)</p><ul><li>Burp Suite Pro -> hybrid technique to find both root/seed and subdomain<ul><li>visit a seed/root and spider all the linked html and js</li><li>turn off passive scanning</li><li>set forms auto to submit</li><li>set scope to advance control and use &ldquo;keyword&rdquo; of target</li><li>browse the site, then spider all hosts</li></ul></li><li>gospider(j3ssiejjj) -> [gospider -s https://www.twitch.tv]</li><li>hakrawler(hakluke)</li><li>subdomainizer(Neeraj Edwards) -> analyzing js and find out subdomains<ul><li>find cloud services referenced in js files</li><li>use shannon entrophy formula to find sensitive items in js files such as api keys</li></ul></li><li>subscraper(Cillian Collins) -> just scrapes js files and finds subdomains</li></ul></li><li><p>(Subdomain Scraping) -> find more subdomains</p><ul><li>(Google) { - is used to exclude and narrow down the results}<ul><li>site:twitch.tv -www.twitch.tv</li><li>site:twitch.tv -www.twitch.tv -watch.twitch.tv</li><li>site:twitch.tv -www.twitch.tv -watch.twitch.tv -dev.twitch.tv</li></ul></li></ul><ul><li>amass -> [amass -d twitch.tv]<ul><li>amass correlates the scraped domain to ASN and list where they came forms</li><li>this helps to know the technology they are using</li></ul></li><li>subfinder(projectdiscovery.io) -> [subfinder -d twitch.tv -v]</li><li>github-subdomains.py(Gwendal Le) -> scrapes github repos and parse into list of subdomains</li><li>shosubgo(inc0gbyt3) -> shodan scraper to find subdomain using {needs api key}</li><li>(Cloud Ranges) -> technique to monitor whole cloud range for SSL sites and parse cert. to match target<ul><li>eg: [curl &lsquo;https://tls.bufferover.run/dns?q=.twitch.tv&rsquo; 2>/dev/null | jq .Results]</li><li>Sam Erb defcon talk on how to set up such service</li></ul></li></ul></li><li><p>(Subdomain Bruitforce) -> checking for live subdomains by resolving them</p><ul><li>amass -> [amass enum -bruit -d twitch.tv -src] | [amass enum -bruit -d twitch.tv -rf resolvers.txt -w wordlist.list]</li><li>shuffledns(projectdiscovery.io) -> [shuffledns -d twitch.tv -w list.txt -r resolvers.txt]</li></ul><ul><li>(wordlist)<ul><li>Tailered wordlist<ul><li>make wordlist in fly</li><li>TomNomNom tool for making Tailered wordlist {who, what, where when, wordlist talk}</li></ul></li><li>Massive wordlist<ul><li>use all in one massive wordlist</li><li>all.txt by JHaddix</li><li><a href=https://github.com/assetnote/commonspeak2>https://github.com/assetnote/commonspeak2</a>
(Alteration Scanning) -> pattern of bruit forcing when a common sequence</li></ul></li><li>eg: dev.company.com | dev1.company.com | dev2.company.com | dev-1.company.com | Dev.2.company.com</li></ul></li></ul></li></ul><h3 id=others>OTHERS<a hidden class=anchor aria-hidden=true href=#others>¶</a></h3><ul><li>(port scan)<ul><li>masscan(Robert Graham) -> Used for scanning open ports {only for ip and not domain and much faster than nmap}
[masscan -p1-65535 -iL $ipfile &ndash;max-rate 1800 -oG $output.log]<ul><li>syntax guide: <a href=https://danielmiessler.com/study/masscan>https://danielmiessler.com/study/masscan</a></li></ul></li><li>dnmasscan(rastating) -> Wrapper around masscan to scan domains
[dnmasscan example.txt dns.log -oG scan.log]
{example.txt contains dns and the ip will be stored in dns.log for further scanning}</li></ul></li><li>(service scan)<ul><li>brutespray(x90skysn3k) -> scans for default remote admin protocols after port scan</li></ul></li><li>(github dorking)<ul><li>Jhaddix bash script for github dork wrapper</li><li>github-search(Gwendal Le)</li><li>th3g3ntelman&rsquo;s full module on github sensitive data exposure</li></ul></li><li>(Screenshotting)<ul><li>Aquatone</li><li>HTTPscreenshot</li><li>Eyewitness (for both http and https)</li></ul></li></ul><h3 id=subdomain-takeover>SUBDOMAIN TAKEOVER<a hidden class=anchor aria-hidden=true href=#subdomain-takeover>¶</a></h3><blockquote><p>occurs when a sub is pointing to a service which is removed or deleted.
you can setup a page in similar service that was being used and point to that sub.</p></blockquote><ul><li>can-i-take-over-xyz(EdOverflow) -> github repo on how to claim subs for different services</li><li>subover(Ic3man/projectdiscovery.io)</li><li>nuclei(projectdiscovery.io) -> large scale tool</li></ul><h3 id=automation>AUTOMATION++<a hidden class=anchor aria-hidden=true href=#automation>¶</a></h3><ul><li>Interlace(Codingo) -> help glue up together these recon tools {hakluke&rsquo;s guide on it}<ul><li>CIDR input</li><li>Glob input</li><li>threading</li><li>proxying</li><li>queue command</li><li>etc..</li></ul></li></ul></div><footer class=post-footer><nav class=paginav><a class=prev href=/posts/htb-hunting-writeup/><span class=title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select:text"><line x1="19" y1="12" x2="5" y2="12" style="user-select:text"/><polyline points="12 19 5 12 12 5" style="user-select:text"/></svg>&nbsp;Prev Page</span><br><span>HTB Hunting Writeup</span></a>
<a class=next href=/posts/heapoverride-senpais-castle/><span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span><br><span>HeapOverride Senpai's Castle</span></a></nav></footer></article></main></body></html>